{% extends 'base.html' %}
{% block title %}Clases y agenda | Administración{% endblock %}
{% block content %}
<style>
body{background:linear-gradient(to right,#111,#0e3752);}
.panel-clases {
  max-width:1080px; margin:35px auto 28px auto; background:#152741;
  border-radius:20px; box-shadow:0 2px 20px #008cff1a; padding:34px 27px;
}
h2{color:#00bfff; font-size:2em; margin-bottom:23px;}
.table-clases {
  width:100%; background:#132947; border-radius:13px; margin-top:18px;
  box-shadow:0 2px 9px #0b153325; border-collapse:separate; border-spacing:0;
}
.table-clases th, .table-clases td {
  color:#fff; border-bottom:1px solid #22557944; padding:13px 8px; text-align:center;
}
.table-clases th { background:#0f2545; color:#23ebff; font-size:1.1em;}
.table-clases tr:last-child td {border-bottom:none;}
.btn-panel {
  background: linear-gradient(90deg,#00bfff 68%, #0099cc 100%);
  color: #fff; padding:10px 29px;
  font-size:1.11em; font-weight:600;
  border: none; border-radius:11px;
  margin-bottom:17px;
  text-decoration:none; text-align:center;
  transition:background .17s, color .13s, box-shadow .17s;
  box-shadow: 0 2px 10px #14babf60;
  display:inline-block;
}
.btn-panel:hover { background:#0099cc; color:#fff; }
</style>
<div class="panel-clases">
  <a href="{% url 'administracion:dashboard_admin' %}" class="btn-panel">⬅ Volver al dashboard</a>
  <h2>Clases agendadas en todos los grupos</h2>
  <table class="table-clases">
    <thead>
      <tr>
        <th>Grupo</th>
        <th>Profesor</th>
        <th>Fecha</th>
        <th>Descripción</th>
      </tr>
    </thead>
    <tbody>
      {% for clase in clases %}
      <tr>
        <td>{{ clase.grupo.nombre }}</td>
        <td>
          {% if clase.grupo.profesor %}
            {{ clase.grupo.profesor.user.get_full_name|default:clase.grupo.profesor.user.username }}
          {% else %}
            <span style="color:#ffcf6f;">Sin asignar</span>
          {% endif %}
        </td>
        <td>{{ clase.fecha|date:"d F Y" }}</td>
        <td>{{ clase.descripcion }}</td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="4" style="color:#fff;">
          No hay clases agendadas.
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
