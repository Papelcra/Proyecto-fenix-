{% extends 'base.html' %}
{% block title %}Registrar asistencia grupal | Club Fénix{% endblock %}
{% block content %}
<style>
body {
  background: linear-gradient(to right, #0a0a0a, #002b5b);
  color: white;
}
.registro-panel {
  max-width:650px; margin:45px auto;
  background:#12273e; padding:34px 34px 28px 34px;
  border-radius:18px;
  box-shadow:0 2px 20px #00bfff36;
}
h2 {
  text-align:center; color:#23ebff;
  font-size:2em;font-weight:700;margin-bottom:18px;
}
.form-rotulado label {display:block; color:#00bfff; margin-bottom:5px; font-weight:600;}
.form-rotulado select {
  width: 100%; padding: 0.6em; font-size: 1.08em;
  border-radius: 7px; background:rgba(255,255,255,.19); color:#fff;
  border:1.5px solid #00bfff40; margin-bottom:18px;
}
.tabla-grupal {
  width:100%; border-collapse:separate;
  border-spacing:0; background:rgba(255,255,255,0.15);
  border-radius:13px; box-shadow:0 2px 13px #03d4ff28; margin-bottom:24px;
}
.tabla-grupal th,.tabla-grupal td {padding:13px 7px;text-align:center;}
.tabla-grupal th {
  color:#23ebff; background:#0f2545;font-size:1.17em;font-weight:700;
}
.tabla-grupal tr td {color:#fff;}
.tabla-grupal tr:last-child td {border-bottom:none;}
.tabla-grupal input[type="text"] {
    width: 98%;padding: 0.6em;border: none;border-radius: 6px;background: #001e2d;color:#fff;
}
.centrado {text-align:center;margin:0 auto;}
.guardar-btn {
  margin: 24px auto 0 auto; display:block; width:98%;
  background: linear-gradient(90deg,#00bfff 65%,#007ccc 100%);
  color:#fff;font-size:1.24em;font-weight:600;padding:13px 0;border:none;
  border-radius:10px; box-shadow:0 2px 13px #00bfff33; cursor:pointer;
  transition:.14s;
}
.guardar-btn:hover {background:#009bd1;}
.btn-panel {
  background: linear-gradient(90deg,#00bfff 68%, #0099cc 100%);
  color: #fff; padding:10px 29px;
  font-size:1.11em; font-weight:600;
  border: none; border-radius:11px;
  margin-bottom:2px;
  text-decoration:none; text-align:center;
  transition:background .17s, color .13s, box-shadow .17s;
  box-shadow: 0 2px 10px #14babf60;
  display:inline-block;
}
.btn-panel:hover { background:#0099cc; color:#fff; }
</style>
<div class="registro-panel">
  <a href="{% url 'maestro:dashboard' %}" class="btn-panel" style="margin-bottom:15px;">
    ⬅ Volver al dashboard
  </a>
  <h2>Registrar asistencia grupal - <span style="color:#23bfff;">{{ grupo.nombre }}</span></h2>
  <form method="post" class="form-rotulado">
    {% csrf_token %}
    <label for="clase_id">Clase del grupo:</label>
    <select name="clase_id" required>
      <option value="">Selecciona la clase</option>
      {% for clase in clases %}
        <option value="{{ clase.id }}">{{ clase.fecha|date:"d M Y" }} - {{ clase.descripcion|truncatechars:40 }}</option>
      {% endfor %}
    </select>
    <table class="tabla-grupal">
      <tr>
        <th>Alumno</th>
        <th>Presente</th>
        <th>Observación</th>
      </tr>
      {% for alumno in alumnos %}
      <tr>
        <td>{{ alumno.user.get_full_name|default:alumno.user.username }}</td>
        <td>
          <input type="checkbox" name="alumno_{{ alumno.id }}">
        </td>
        <td>
          <input type="text" name="observacion_{{ alumno.id }}" placeholder="Observación (opcional)">
        </td>
      </tr>
      {% endfor %}
    </table>
    <button class="guardar-btn" type="submit">Guardar asistencia</button>
  </form>
</div>
{% endblock %}
